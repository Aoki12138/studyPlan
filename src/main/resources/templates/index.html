<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>学习养成计划</title>
    <!-- Favicon-->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

    <!-- Bootstrap Core Css -->
    <link href="/plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Waves Effect Css -->
    <link href="/plugins/node-waves/waves.css" rel="stylesheet" />

    <!-- Animation Css -->
    <link href="/plugins/animate-css/animate.css" rel="stylesheet" />

    <!-- Morris Chart Css-->
    <link href="/plugins/morrisjs/morris.css" rel="stylesheet" />

    <!--WaitMe Css-->
    <link href="/plugins/waitme/waitMe.css" rel="stylesheet" />
    
    <!-- Custom Css -->
    <link href="/css/style.css" rel="stylesheet">

    <!-- AdminBSB Themes. You can choose a theme from css/themes instead of get all themes -->
    <link href="/css/themes/all-themes.css" rel="stylesheet" />

    <!-- 倒计时-->
    <link href="/css/time_style.css" rel="stylesheet"/>
</head>

<body class="theme-red">

    <div th:replace="~{/commons/pageLoader.html::pageLoader}">
    </div>

    <div th:replace="~{/commons/topBar.html::topBar}">
    </div>

    <section>
        <aside id="leftsidebar" class="sidebar">
            <!-- User Info -->
            <div class="user-info">
                <div class="image">
                    <img src="/images/user.png" width="48" height="48" alt="User" />
                </div>
                <div class="info-container">
                    <div class="name" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" value="">[[${session['user'].userNickName}]]</div>
                    <div class="email">[[${session['user'].userEmail}]]</div>
                    <div class="btn-group user-helper-dropdown">
                        <i class="material-icons" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">keyboard_arrow_down</i>
                        <ul class="dropdown-menu pull-right">
                            <li>
                                <a class="js-right-sidebar" data-close="true">
                                    <i class="material-icons">settings</i>
                                    Themes
                                </a>
                            </li>
                            <li role="separator" class="divider">
                            </li>
                            <li>
                                <a th:href="@{/logout}">
                                    <i class="material-icons">input</i>
                                    Sign Out
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- #User Info -->

            <!-- Menu -->
            <div class="menu">
                <ul class="list">
                    <li class="header">WELCOME TO OUR SYSTEM</li>
                    <li class="active">
                        <a href="/user/index">
                            <i class="material-icons">home</i>
                            <span>Main</span>
                        </a>
                    </li>
                    <li>
                        <a href="/user/taskList">
                            <i class="material-icons">widgets</i>
                            <span>Task List</span>
                        </a>
                    </li>

                    <li>
                        <a  class="menu-toggle">
                            <i class="material-icons">pie_chart</i>
                            <span>Analysis</span>
                        </a>
                        <ul class="ml-menu">
                            <li>
                                <a href="/user/analysis/day">ByDay</a>
                            </li>
                            <li>
                                <a href="/user/analysis/week">ByWeek</a>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="/user/diaryList">
                            <i class="material-icons">today</i>
                            <span>Diary</span>
                        </a>
                    </li>


                    <li>
                        <a href="/user/userInfo">
                            <i class="material-icons">assignment</i>
                            <span>UserInfo</span>
                        </a>
                    </li>

                </ul>
            </div>
            <!-- #Menu -->
            <!-- Footer -->
            <div class="legal">
                <div class="copyright">
                    &copy; 2020 <a>Form Good Study Habit</a>.
                </div>
                <div class="version">
                    <b>Version: </b> 0.0.1
                </div>
            </div>
            <!-- #Footer -->
        </aside>
        <div th:replace="~{/commons/rightBar.html::rightBar}">
        </div>
    </section>

    <section class="content">
        <div class="container-fluid">

            <div class="block-header">
                <h2>DASHBOARD</h2>
            </div>

            <!-- Widgets -->
            <div class="row clearfix">
                <a href="/user/addTask">
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <div class="info-box-3 bg-pink hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons">alarm_add</i>
                            </div>
                            <div class="content">
                                <div class="text">Add Task</div>
                                <div class="number">添加任务</div>
                            </div>
                        </div>
                    </div>
                </a>
                <a href="/user/taskList">
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box-3 bg-cyan hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">widgets</i>
                        </div>
                        <div class="content">
                            <div class="text">Task List</div>
                            <div class="number">任务清单</div>
                        </div>
                    </div>
                </div>
                </a>
                <a href="">
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box-3 bg-brown hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">pie_chart</i>
                        </div>
                        <div class="content">
                            <div class="text">Analysis</div>
                            <div class="number">数据分析</div>
                        </div>
                    </div>
                </div>
                </a>
                <a href="/user/addDiary">
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <div class="info-box-3 bg-orange hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons">today</i>
                            </div>
                            <div class="content">
                                <div class="text">Diary</div>
                                <div class="number">添加日记</div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header bg-light-green">
                            <h2>
                                当前任务 <small>Current Task</small>
                            </h2>
                        </div>
                        <div class="body">
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs tab-nav-right" role="tablist">
                                <li role="presentation" class="active"><a href="#profile" data-toggle="tab">当前任务</a></li>
                                <li role="presentation"><a href="#clock" data-toggle="tab">倒计时</a></li>
                            </ul>

                            <!-- Tab panes -->
                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane fade in active" id="profile">
                                    <b>Home Content</b>
                                    <p>
                                        Lorem ipsum dolor sit amet, ut duo atqui exerci dicunt, ius impedit mediocritatem an. Pri ut tation electram moderatius.
                                        Per te suavitate democritum. Duis nemore probatus ne quo, ad liber essent aliquid
                                        pro. Et eos nusquam accumsan, vide mentitum fabellas ne est, eu munere gubergren
                                        sadipscing mel.
                                    </p>
                                </div>
                                <div role="tabpanel" class="tab-pane fade" id="clock">
                                    <div class="col-lg-offset-4 col-md-offset-3 col-sm-offset-2 col-xs-offset-1">
                                        <div class="clock">
                                            <div class="flip">
                                                <div class="digital front" data-number="0"></div>
                                                <div class="digital back" data-number="1"></div>
                                            </div>
                                            <div class="flip">
                                                <div class="digital front" data-number="0"></div>
                                                <div class="digital back" data-number="1"></div>
                                            </div>
                                            <em class="divider">:</em>
                                            <div class="flip">
                                                <div class="digital front" data-number="0"></div>
                                                <div class="digital back" data-number="1"></div>
                                            </div>
                                            <div class="flip">
                                                <div class="digital front" data-number="0"></div>
                                                <div class="digital back" data-number="1"></div>
                                            </div>
                                            <em class="divider">:</em>
                                            <div class="flip">
                                                <div class="digital front" data-number="0"></div>
                                                <div class="digital back" data-number="1"></div>
                                            </div>
                                            <div class="flip">
                                                <div class="digital front" data-number="0"></div>
                                                <div class="digital back" data-number="1"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="row clearfix">
                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>今日已完成(%)</h2>
                        </div>
                        <div class="body" style="height: 230px;">

                            <div style="height:30px"></div>
                            
                            <div class="row clearfix">                                
                                <div class="col-md-offset-4 col-lg-offset-4">
                                    <input type="text" class="knob" th:value="${finProportion}" data-width="125" data-height="125" data-thickness="0.25" data-fgColor="#9C27B0"
                                            data-anglearc="250" data-angleoffset="-125" readonly>
                                </div>
                                <div class="body" style="text-align: center">
                                    <span class="label label-primary">总时间</span>
                                    <span th:text="${totaltime}"></span>
                                    <span>m</span>
                                    <span class="label label-success">已完成</span>
                                    <span th:text="${Fintotaltime}"></span>
                                    <span>m</span>

                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
            

                <!-- 待完成任务列表 -->

                <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                    <div class="card">
                        <div class="header">
                            <h2>待完成任务</h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table class="table table-hover dashboard-task-infos">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>名称</th>
                                        <th>主题</th>
                                        <th>开始时间</th>
                                        <th>结束时间</th>
                                    </tr>
                                    </thead>

                                    <tbody>
                                    <tr th:each="task,taskStat:${UnfinTasks}">
                                        <td th:text="${taskStat.index+1}">1</td>
                                        <td th:text="${task.taskName}">Task A</td>
                                        <td><span class="label bg-green" th:text="${task.taskTheme}">Doing</span></td>
                                        <td th:text="${#dates.format(task.startTime,'HH:mm:ss')}">00:00:00</td>
                                        <td th:text="${#dates.format(task.endTime,'HH:mm:ss')}">00:00:00</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #END# 待完成任务列表 -->



            </div>

            
            <div class="row clearfix">
                
                <!-- 已完成任务列表 -->
                <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                    <div class="card">
                        <div class="header">
                            <h2>已完成任务</h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table class="table table-hover dashboard-task-infos">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>名称</th>
                                            <th>主题</th>
                                            <th>时长</th>
                                            <th>完成度</th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr th:each="task,taskStat:${FinTasks}">
                                            <td th:text="${taskStat.index+1}">1</td>
                                            <td th:text="${task.taskName}">Task A</td>
                                            <td ><span class="label bg-green" th:text="${task.taskTheme}">Doing</span></td>
                                            <td th:text="${#dates.format(task.endTime,'HH:mm:ss')}">00:00:00</td>
                                            <td>
                                                <div class="progress">
                                                    <div class="progress-bar bg-blue" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" th:style="'width:'+*{task.evaluation}+'%'"></div>
                                                </div>
                                            </td>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #END# 已完成任务列表 -->


                <!-- 已完成任务统计 -->
                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                    <div class="card">
                        <div class="header">
                            <h2>已完成任务统计</h2>
                        </div>
                        <div class="body">
                            <div id="donut_chart" class="dashboard-donut-chart"></div>
                        </div>
                    </div>
                </div>
                <!-- #END# 已完成任务统计 -->

            </div>
        </div>
    </section>

    <!-- Jquery Core Js -->
    <script src="/plugins/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core Js -->
    <script src="/plugins/bootstrap/js/bootstrap.js"></script>

    <!-- Select Plugin Js -->
    <script src="/plugins/bootstrap-select/js/bootstrap-select.js"></script>

    <!-- Slimscroll Plugin Js -->
    <script src="/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>

    <!-- Waves Effect Plugin Js -->
    <script src="/plugins/node-waves/waves.js"></script>

    <!-- Jquery CountTo Plugin Js -->
    <script src="/plugins/jquery-countto/jquery.countTo.js"></script>

    <!-- Wait Me Plugin Js -->
    <script src="/plugins/waitme/waitMe.js"></script>

    <!-- Morris Plugin Js -->
    <script src="/plugins/raphael/raphael.min.js"></script>
    <script src="/plugins/morrisjs/morris.js"></script>

    <!-- ChartJs -->
    <script src="plugins/chartjs/Chart.bundle.js"></script>

    <!-- Flot Charts Plugin Js -->
    <script src="/plugins/flot-charts/jquery.flot.js"></script>
    <script src="/plugins/flot-charts/jquery.flot.resize.js"></script>
    <script src="/plugins/flot-charts/jquery.flot.pie.js"></script>
    <script src="/plugins/flot-charts/jquery.flot.categories.js"></script>
    <script src="/plugins/flot-charts/jquery.flot.time.js"></script>

    <!-- Sparkline Chart Plugin Js -->
    <script src="/plugins/jquery-sparkline/jquery.sparkline.js"></script>

    <!-- Jquery Knob Plugin Js -->
    <script src="/plugins/jquery-knob/jquery.knob.min.js"></script>

    <!-- Custom Js -->
    <script src="/js/admin.js"></script>
    <script src="/js/pages/index.js"></script>
    <script src="/js/pages/cards/colored.js"></script>
    <script src="/js/pages/charts/jquery-knob.js"></script>

    <!--倒计时-->
    <script src="/js/time_script.js"></script>

    <!-- Demo Js -->
    <script src="js/demo.js"></script>
</body>

</html>
